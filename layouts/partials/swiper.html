<!-- layouts/partials/swiper_layout.html -->
<div class="swiper-container-wrapper">
    <div class="swiper outerSwiper swiper-v">
        <div class="swiper-wrapper">
            {{ range .Site.Sections }}
            {{ range $i, $page := .Pages }}
            <div class="swiper-slide">
                <div class="swiper innerSwiper swiper-h">
                    <div class="swiper-wrapper">
                        {{ range $page.Params.Slideshow }}
                        <div class="swiper-slide">
                            {{ $ext := substr (path.Ext .) 1 }}
                            {{ if in (slice "mp4" "webm" "ogg") $ext }}
                            <video controls>
                                <source src="{{ . }}" type="video/{{ $ext }}">
                            </video>
                            {{ else }}
                            <img src="{{ . }}" alt="{{ $page.Title }} - {{ $i }}" />
                            {{ end }}
                        </div>
                        {{ end }}
                    </div>
                    <div class="swiper-pagination"></div>
                </div>
            </div>
            {{ end }}
            {{ end }}
        </div>
        <div class="swiper-pagination"></div>
    </div>
</div>

<!-- Centralized Project Info -->
<div id="centralProjectInfo" class="project-info-container"></div>

<!-- Hidden storage for all project info -->
<div id="projectDataStorage" style="display: none;">
    {{ $i := 0 }}
    {{ range .Site.Sections }}
    {{ range .Pages }}
    <div id="project-info-{{ $i }}">
        <div class="project-title" data-project="info-{{ $i }}">{{ .Title }}</div>
        <div class="project-details" id="info-{{ $i }}">
            <button class="close-btn">&times;</button>
            <h3>{{ .Title }}</h3>
            {{ .Content }}
        </div>
    </div>
    {{ $i = add $i 1 }}
    {{ end }}
    {{ end }}
</div>